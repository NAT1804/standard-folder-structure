<div class="grid h-full">
  <div class="col-12 h-full">
    <div class="card h-full">
      <div
        #divFilter
        class="flex flex-column lg:flex-row xl:flex-row w-full div-filter-page"
      >
        <emir-form-input
          class="col-12 lg:col-2 xl:col-2"
          [floatLabel]="true"
          [placeholder]="'Tìm kiếm'"
          [label]="'Tìm kiếm'"
          [(ngModelValue)]="filter.keyword"
          (_onChange)="changeFilter($event)"
        ></emir-form-input>
        <emir-form-dropdown
          class="col-12 lg:col-2 xl:col-2"
          [label]="'Tìm kiếm theo'"
          [floatLabel]="true"
          [options]="listFilterType"
          [showClearFloatLabel]="false"
          [(ngModelValue)]="filter.type"
          (_onChange)="changeFilter($event)"
        ></emir-form-dropdown>
        <emir-form-dropdown
          class="col-12 lg:col-2 xl:col-2"
          [label]="'Trạng thái'"
          [floatLabel]="true"
          [options]="listStatus"
          [(ngModelValue)]="filter.status"
          (_onChange)="changeFilter($event)"
        ></emir-form-dropdown>
      </div>
      <div
        [style.height]="
          'calc(100% - ' + divFilter.getBoundingClientRect().height + 'px)'
        "
        class="div-main-page"
      >
        <div
          #divButton
          class="flex flex-column lg:flex-row xl:flex-row justify-content-end align-items-center mb-3"
        >
          <emir-form-button
            [label]="'Thêm mới'"
            [icon]="'pi pi-plus'"
            (_onClick)="create($event)"
          ></emir-form-button>
        </div>
        <emir-form-table
          [style.height]="
            'calc(100% - ' +
            divButton.getBoundingClientRect().height +
            'px - 1rem)'
          "
          class="block auto-height-form-table"
          [scrollHeight]="'100%'"
          [columns]="headerColumns"
          [dataSource]="dataSource"
          [isLoading]="isLoading"
          [resizableColumns]="true"
          [listAction]="listAction"
          [(page)]="page"
          (_changePage)="changePage($event)"
          (_onSort)="onSort($event)"
        ></emir-form-table>
      </div>
    </div>
  </div>
</div>
